SUPABASE_URL=https://envlcgzlopkallmmtcaq.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVudmxjZ3psb3BrYWxsbW10Y2FxIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2NDEyODQ4OCwiZXhwIjoyMDc5NzA0NDg4fQ.0GNEEHpeU7bPXPHuz8mdnLsZckqx2cV-AvueSpk6T3M
SUPABASE_BUCKET=images

# In upload_image_and_generate_qr(), add this debug line:

    # Generate QR code with FULL Supabase URL
    print(f"[SUPABASE] Generating QR code with URL: {public}")
    print(f"[SUPABASE] URL to encode in QR: {repr(public)}")  # DEBUG: Show exact string
    
    qr=qrcode.QRCode(
        version=None,
        error_correction=qrcode.constants.ERROR_CORRECT_H,
        box_size=10,
        border=4,
    )
    qr.add_data(public)
    print(f"[SUPABASE] QR data added: {qr.data_list}")  # DEBUG: Verify what's in QR
    qr.make(fit=True)